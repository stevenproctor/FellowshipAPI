@model FellowshipLib.People

@{
	ViewBag.Title = "PeopleSearch";
}

<h2>PeopleSearch</h2>
@using (Html.BeginForm("Search", "People", FormMethod.Get, new { id = "search" }))
{
<label for="name" title="Find Users with Name" >Find users with name</label>
<input type="text" name="name" value="@ViewBag.SearchCriteria" />
<input id="search" type="submit" value="Search" />
}
<table>
	<tr>
		<th></th>
		<th>Last Name</th>
		<th>First Name</th>
	</tr>

@foreach (var item in Model) {
	<tr>
		<td>
			@Html.ActionLink("Details", "Details", new { id=item.Id }) 
		</td>
		<td>
			@item.LastName
		</td>
		<td>
			@item.FirstName
		</td>
		<td>
			@Html.ActionLink("View Household", "Household", new { id=item.HouseholdId })
		</td>
	</tr>
}
</table>

@using (Html.BeginForm("Search", "People", FormMethod.Get, new { id = "search" }))
{
	<div class="tableFooter">
			Page

		@if (Model.PageNumber > 1)
		{
			@Html.ActionLink("Previous", "Search", new { name = ViewBag.SearchCriteria, pageNumber = Model.PageNumber - 1 })
		}
		<input type="text" name="pageNumber" value="@Model.PageNumber" /> of @Model.TotalPages()
		<input type="hidden" name="name" value="@ViewBag.SearchCriteria" />
		@if (Model.PageNumber < Model.TotalPages())
		{
			@Html.ActionLink("Next", "Search", new { name = ViewBag.SearchCriteria, pageNumber = Model.PageNumber + 1 })
		}
	</div>
}
